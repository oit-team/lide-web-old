(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f0c6168"],{"2aea":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pageCommonStyle",attrs:{id:"customerList"}},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"购物订单",name:"ShoppingOrder"}},[a("vc-shoppingOrder")],1),a("el-tab-pane",{attrs:{label:"竞拍订单",name:"AuctionOrder"}},[a("vc-auctionOrder")],1)],1)],1)},s=[],r=a("f6d5"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pageCommonStyle",attrs:{id:"customerList"}},[a("vc-search",{ref:"child",attrs:{headTitArr:e.headTitArr,pageNum:e.pageNum,pageSize:e.pageSize,requestUrl:e.requestUrl},on:{changeLoading:e.changeLoad,sendData:e.showChildData}}),a("div",{staticClass:"operateBtn",staticStyle:{display:"inline-block"}}),a("el-divider"),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中...",data:e.tableData,border:""}},[e._l(e.headTitArrNew,(function(t,i){return a("el-table-column",{key:i,attrs:{"show-overflow-tooltip":"",sortable:"","min-width":e.GLOBAL.minCellWidth,prop:t.fieldKey,label:t.fieldName},scopedSlots:e._u(["state"==t.fieldKey?{key:"default",fn:function(t){return[0==t.row.state?a("span",[e._v("所有")]):1==t.row.state?a("span",[e._v("待付款")]):2==t.row.state?a("span",[e._v("待收货")]):3==t.row.state?a("span",[e._v("已完成")]):e._e()]}}:null],null,!0)})})),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"查看",placement:"top"}},[a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-view",circle:""},on:{click:function(a){return e.readShoppingItem(t.row,t.$index)}}})],1)]}}])})],2),a("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[15,20,30],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},n=[],o={components:{VcSearch:r["a"]},props:{msg:String},data(){return{total:0,pageNum:0,pageSize:15,requestUrl:"",editIndex:null,dynamicParam:[],loading:!0,tableData:[],headTitArr:[]}},created(){this.requestUrl=this.Api.getAllShoppingOrder,sessionStorage.headTitString&&-1!=sessionStorage.headTitString.indexOf("@")&&(this.headTitArr=JSON.parse(sessionStorage.headTitString.split("@")[1])),this.dynamicParam=[{key:"pageNum",value:"1",isTrue:!0,msg:"请确认pageNum"},{key:"pageSize",value:"15",isTrue:!0,msg:"请确认pageSize"}]},computed:{headTitArrNew(){return this.headTitArr.filter(e=>!e.noTableShow)}},mounted(){this.pageNum=1,this.dynamicParam.forEach(e=>{"pageNum"===e.key&&(e.value=this.pageNum)})},activated(){sessionStorage.headTitString&&-1!=sessionStorage.headTitString.indexOf("@")&&(this.headTitArr=JSON.parse(sessionStorage.headTitString.split("@")[1]));const e=this;e.$refs.child.resetSearch(e.dynamicParam,e.pageNum)},watch:{},methods:{readShoppingItem(e,t){this.editIndex=t,this.$router.push({path:"/order/editshoppinginfo",query:{item:e}})},changeLoad(e){this.loading=e},showChildData(e,t,a,i){e&&(this.tableData=e),t&&(this.total=t),a&&(this.tableEmptyText=a),i&&(this.pageNum=i)},handleSizeChange(e){this.pageSize=e,this.dynamicParam.forEach(e=>{"pageSize"===e.key&&(e.value=this.pageSize)}),this.$refs.child.parentMsgs(this.dynamicParam)},handleCurrentChange(e){this.pageNum=e,this.dynamicParam.forEach(e=>{"pageNum"===e.key&&(e.value=this.pageNum)}),this.$refs.child.parentMsgs(this.dynamicParam)},indexMethod(e){return e+1+(this.pageNum-1)*this.pageSize}}},d=o,c=a("b709"),h=Object(c["a"])(d,l,n,!1,null,null,null),p=h.exports,u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pageCommonStyle",attrs:{id:"customerList"}},[a("vc-search",{ref:"child",attrs:{headTitArr:e.headTitArr,pageNum:e.pageNum,pageSize:e.pageSize,requestUrl:e.requestUrl},on:{changeLoading:e.changeLoad,sendData:e.showChildData}}),a("div",{staticClass:"operateBtn",staticStyle:{display:"inline-block"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.exportFile}},[e._v("导出")])],1),a("el-divider"),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中...",data:e.tableData,border:""}},[e._l(e.headTitArrNew,(function(t,i){return a("el-table-column",{key:i,attrs:{"show-overflow-tooltip":"",sortable:"","min-width":e.GLOBAL.minCellWidth,width:"landlineNum"===t.fieldKey?"160px":"",prop:t.fieldKey,label:t.fieldName},scopedSlots:e._u(["state"==t.fieldKey?{key:"default",fn:function(t){return[0==t.row.state?a("span",[e._v("未付款")]):1==t.row.state?a("span",[e._v("未挂拍")]):2==t.row.state?a("span",[e._v("取消挂拍")]):3==t.row.state?a("span",[e._v("已完成")]):e._e()]}}:null],null,!0)})})),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"查看",placement:"top"}},[a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-view",circle:""},on:{click:function(a){return e.readAuctionItem(t.row,t.$index)}}})],1)]}}])})],2),a("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[15,20,30],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},g=[];function m(e){const t=new Blob([e],{type:"application/octet-stream"});return window.URL.createObjectURL(t)}var y=m;function f(e,t){const a=y(e),i=document.createElement("a");i.style.display="none",i.href=a,i.download=t,i.click(),window.URL.revokeObjectURL(a)}var v=f,b={components:{VcSearch:r["a"]},props:{msg:String},data(){return{total:0,pageNum:0,pageSize:15,requestUrl:"",editIndex:null,dynamicParam:[],loading:!0,tableData:[],headTitArr:[],searchParams:{}}},created(){this.requestUrl=this.Api.getAllAuction,sessionStorage.headTitString&&-1!=sessionStorage.headTitString.indexOf("@")&&(this.headTitArr=JSON.parse(sessionStorage.headTitString.split("@")[0])),this.dynamicParam=[{key:"pageNum",value:"1",isTrue:!0,msg:"请确认pageNum"},{key:"pageSize",value:"15",isTrue:!0,msg:"请确认pageSize"}]},computed:{headTitArrNew(){return this.headTitArr.filter(e=>!e.noTableShow)}},mounted(){this.pageNum=1,this.dynamicParam.forEach(e=>{"pageNum"===e.key&&(e.value=this.pageNum)})},activated(){sessionStorage.headTitString&&-1!=sessionStorage.headTitString.indexOf("@")&&(this.headTitArr=JSON.parse(sessionStorage.headTitString.split("@")[0]));const e=this;e.$refs.child.resetSearch(e.dynamicParam,e.pageNum)},watch:{},methods:{exportFile:function(){this.$axios.post(this.Api.getExportAuctionOrder,this.GLOBAL.paramJson({...this.searchParams}),{responseType:"arraybuffer"}).then(e=>{const t=(new Date).toLocaleDateString().replace(/\//g,"-");v(e.data,`竞拍订单${t}.xls`)})},readAuctionItem(e,t){this.editIndex=t,this.$router.push({path:"/order/editauctioninfo",query:{item:e}})},changeLoad(e){this.loading=e},showChildData(e,t,a,i,s){this.searchParams=s,e&&(this.tableData=e),t&&(this.total=t),a&&(this.tableEmptyText=a),i&&(this.pageNum=i)},handleSizeChange(e){this.pageSize=e,this.dynamicParam.forEach(e=>{"pageSize"===e.key&&(e.value=this.pageSize)}),this.$refs.child.parentMsgs(this.dynamicParam)},handleCurrentChange(e){this.pageNum=e,this.dynamicParam.forEach(e=>{"pageNum"===e.key&&(e.value=this.pageNum)}),this.$refs.child.parentMsgs(this.dynamicParam)},indexMethod(e){return e+1+(this.pageNum-1)*this.pageSize}}},S=b,T=Object(c["a"])(S,u,g,!1,null,null,null),k=T.exports,N={components:{VcSearch:r["a"],VcShoppingOrder:p,VcAuctionOrder:k},props:{},data(){return{activeName:"ShoppingOrder"}},created(){},computed:{},mounted(){},activated(){},watch:{},methods:{handleClick(e){}}},$=N,x=Object(c["a"])($,i,s,!1,null,null,null);t["default"]=x.exports},"60fd":function(e,t,a){},"72fc":function(e,t,a){"use strict";a("60fd")},f6d5:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common-search"},[a("div",{ref:"opeSlideBox",staticClass:"operateBox"},[a("div",{staticClass:"searchBox"},[a("div",{staticClass:"itemBox"},e._l(e.headArr,(function(t,i){return a("div",{key:i},[t.noSearchShow?e._e():a("div",{staticClass:"searchItem"},["文本"==t.fieldType?a("div",["文本"==t.fieldType?a("div",{staticClass:"searchTit"},[e._v(e._s(t.fieldName))]):e._e(),"文本"==t.fieldType?a("el-input",{attrs:{placeholder:"请输入搜索内容","prefix-icon":"el-icon-search",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.clickSearch()}},model:{value:t.searchValKey,callback:function(a){e.$set(t,"searchValKey",a)},expression:"item.searchValKey"}}):e._e()],1):e._e(),"值列"==t.fieldType?a("div",["值列"==t.fieldType?a("div",{staticClass:"searchTit"},[e._v(e._s(t.fieldName))]):e._e(),"值列"==t.fieldType?a("el-select",{attrs:{clearable:"",placeholder:"请选择"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.clickSearch()}},model:{value:t.searchValKey,callback:function(a){e.$set(t,"searchValKey",a)},expression:"item.searchValKey"}},e._l(t.fieldAttr,(function(e){return a("el-option",{key:e.optionKey,attrs:{label:e.optionValue,value:e.optionKey}})})),1):e._e()],1):e._e(),"日期"==t.fieldType?a("div",["日期"==t.fieldType?a("div",{staticClass:"searchTit"},[e._v(e._s(t.fieldName))]):e._e(),"日期"==t.fieldType?a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.onChange},model:{value:t.searchValKey,callback:function(a){e.$set(t,"searchValKey",a)},expression:"item.searchValKey"}}):e._e()],1):e._e(),"时间"==t.fieldType?a("div",["时间"==t.fieldType?a("div",{staticClass:"searchTit"},[e._v(e._s(t.fieldName))]):e._e(),"时间"==t.fieldType?a("el-time-picker",{attrs:{"is-range":"","value-format":"HH:mm","range-separator":"-","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:t.searchValKey,callback:function(a){e.$set(t,"searchValKey",a)},expression:"item.searchValKey"}}):e._e()],1):e._e(),"日期时间"==t.fieldType?a("div",["日期时间"==t.fieldType?a("div",{staticClass:"searchTit"},[e._v(e._s(t.fieldName))]):e._e(),"日期时间"==t.fieldType?a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间"},model:{value:t.searchValKey,callback:function(a){e.$set(t,"searchValKey",a)},expression:"item.searchValKey"}}):e._e()],1):e._e()])])})),0),a("div",{staticClass:"searchBtnBox"},[a("el-button",{attrs:{size:"small",icon:"el-icon-refresh",type:"primary"},on:{click:function(t){return e.clickSearch()}}},[e._v("查询")]),a("el-button",{attrs:{size:"small",icon:"el-icon-close",type:"info"},on:{click:function(t){return e.clearSearch()}}},[e._v("清空")])],1),e.foldFlag?a("div",{staticClass:"moreBtn",on:{click:e.clickMore}},[e.foldFlag?a("i",{staticClass:"el-icon-caret-bottom"}):e._e()]):a("div",{staticClass:"newMoreBtn",on:{click:e.clickMore}},[a("i",{staticClass:"el-icon-caret-top"})])])])])},s=[],r={name:"CommonSearch",props:{headTitArr:Array,pageNum:Number,pageSize:Number,OtherData:Object,serverName:String,requestUrl:String,cmdVal:Number},data(){return{height:"180px",searchName:"",foldFlag:!0,headArr:"",tableEmptyText:"",total:"",tableData:"",pMsg:[{key:"pageNum",value:"1",isTrue:!0,msg:"请确认pageNum"},{key:"pageSize",value:"10",isTrue:!0,msg:"请确认pageSize"}]}},created(){this.headArr=this.headTitArr,this.curRequestUrl=this.requestUrl,this.headArr.forEach(e=>{"值列"===e.fieldType&&e.fieldAttr&&"string"===typeof e.fieldAttr&&(e.fieldAttr=JSON.parse(e.fieldAttr))})},mounted(){},activated(){},methods:{onChange(){},clickMore(){this.foldFlag=!this.foldFlag,this.foldFlag?(this.$refs.opeSlideBox.style.height="60px",this.$refs.opeSlideBox.style.overflow="hidden"):(this.$refs.opeSlideBox.style.height=this.height,this.$refs.opeSlideBox.style.overflow="auto")},parentMsgs(e){this.pMsg=e,this.searchList()},parentMsg(){},getRequestUrl(e,t){},parentHeadArr(e){},sendOptions(e){},handleChangeBand(e){},resetSearch(e,t){this.pMsg=e;let a=null;t&&(a=t),this.clearSearch(a)},clickSearch(){this.searchList(1)},searchList(e){e&&this.pMsg.forEach(t=>{"pageNum"===t.key&&(t.value=e)}),this.$emit("changeLoading",!0);let t="";this.headArr.forEach(e=>{e.searchValKey&&("日期"===e.fieldType?t+=`"start${e.fieldKey}":"${e.searchValKey[0]}","end${e.fieldKey}":"${e.searchValKey[1]}",`:t+=`"${e.fieldKey}":"${e.searchValKey}",`)});let a="";for(let d=0;d<this.pMsg.length;d++)this.pMsg[d].isTrue&&!this.pMsg[d].value?(this.$message({message:this.pMsg[d].msg,type:"warning"}),this.$emit("changeLoading",!1)):a+=`"${this.pMsg[d].key}":"${this.pMsg[d].value}",`;for(let d in this.OtherData)a+=`"${d}":"${this.OtherData[d]}",`;const i=null;let s="",r="",l="";r+=i?`{${t}${a}${i}}`:`{${t}${a}}`;const n=r.slice(0,r.length-2),o=r.substr(r.length-1,1);if(s=n+o,l=JSON.parse(s),this.curRequestUrl){const t=this,a=t.GLOBAL.paramJson(l);t.$axios.post(t.curRequestUrl,a).then(a=>{t.$emit("changeLoading",!1),0===a.data.head.status&&(a.data.body.result?t.tableData=a.data.body.result:a.data.body.resultList?t.tableData=a.data.body.resultList:a.data.body.usersList?t.tableData=a.data.body.usersList:a.data.body.allResultList&&(t.tableData=a.data.body.allResultList),0===t.tableData.length&&(t.tableEmptyText="暂无数据",t.$message({message:"请求成功，暂无数据",type:"success"})),a.data.body.totalCount?t.total=a.data.body.totalCount:a.data.body.count&&(t.total=a.data.body.count),t.$emit("sendData",t.tableData,t.total,t.tableEmptyText,e,l))})}},clearSearch(e){const t=e||1;this.$emit("changeLoading",!0),this.pMsg.forEach(e=>{"pageNum"===e.key&&(e.value=t)});let a="";this.headArr.forEach(e=>{e.searchValKey&&(this.$set(e,"searchValKey",""),"日期"===e.fieldType?a+=`"start${e.fieldKey}":"${e.searchValKey[0]}","end${e.fieldKey}":"${e.searchValKey[1]}",`:a+=`"${e.fieldKey}":"${e.searchValKey}",`)});let i="";for(let h=0;h<this.pMsg.length;h++)this.pMsg[h].isTrue&&!this.pMsg[h].value?(this.$message({message:this.pMsg[h].msg,type:"warning"}),this.$emit("changeLoading",!1)):i+=`"${this.pMsg[h].key}":"${this.pMsg[h].value}",`;let s="",r="";r+=`{${a}${i}}`;const l=r.slice(0,s.length-2),n=r.substr(s.length-1,1);s=l+n;const o=JSON.parse(s),d=this,c=d.GLOBAL.paramJson(o);d.$axios.post(d.curRequestUrl,c).then(e=>{d.$emit("changeLoading",!1),0===e.data.head.status&&(e.data.body.result?d.tableData=e.data.body.result:e.data.body.resultList?d.tableData=e.data.body.resultList:e.data.body.usersList?d.tableData=e.data.body.usersList:e.data.body.allResultList&&(d.tableData=e.data.body.allResultList),0===d.tableData.length&&(d.tableEmptyText="暂无数据",d.$message({message:"请求成功，暂无数据",type:"success"})),e.data.body.totalCount?d.total=e.data.body.totalCount:e.data.body.count&&(d.total=e.data.body.count),d.$emit("sendData",d.tableData,d.total,d.tableEmptyText,t))})}}},l=r,n=(a("72fc"),a("b709")),o=Object(n["a"])(l,i,s,!1,null,"1aad5c45",null);t["a"]=o.exports}}]);